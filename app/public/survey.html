<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />

    <title>Survey for that person you will probably not meet</title>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
   <script src = "https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script>

</head>

<body>
    <div class="container">

        <h4>Survey Time</h4>
        <h4>Name (Required)</h4>
        <input type="text" name="" id="name" class="form-control" required>

        <h4>Photo (Required)</h4>
        <input type="text" name="" id="photo" class="form-control" required>

        <h5>1. I enjoy nice long walks on the beach.</h5>
        <br>
        <select data-placeholder="" class="chosen-select" id="questionOne">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    </div>
    <div class="form-group">
        <h5>2. My partner should be caring and supportive.</h5>
        <select data-placeholder="" class="chosen-select" id="questionTwo">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>3. I enjoy traveling to different countries and exploring different cultures and cuisines.</h5>
        <select data-placeholder="" class="chosen-select" id="questionThree">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>4. Seinfeld is a great comedy.</h5>
        <select data-placeholder="" class="chosen-select" id="questionFour">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>5. I believe drinking too much affects the relationship of a couple.</h5>
        <select data-placeholder="" class="chosen-select" id="questionFive">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>6. Owning pets can be unbeneficial in our relationship</h5>
        <select data-placeholder="" class="chosen-select" id="questionSix">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>7. I prefer to watch a movie that suits both couples instead of only one enjoying it.</h5>
        <select data-placeholder="" class="chosen-select" id="questionSeven">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>8. Attractiveness and appearance is a factor in my judgement for a relationship.</h5>
        <select data-placeholder="" class="chosen-select" id="questionEight">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>9. I find South Park to be very funny and somewhat informative.</h5>
        <select data-placeholder="" class="chosen-select" id="questionNine">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>
    <div class="form-group">
        <h5>10. Coding can be a bitch sometimes.</h5>
        <select data-placeholder="" class="chosen-select" id="questionTen">
            <option value=""></option>
            <option value="1">1 (Strong Agree)</option>
            <option value="2">2 (Agree)</option>
            <option value="3">3 (Maybe)</option>
            <option value="4">4 (No)</option>
            <option value="5">5 (HELL NO)</option>
        </select>
    </div>

    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter" id="submit">
            Launch demo modal
          </button>
    </div>

     <!-- Modal -->
     <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Your South Park character Match</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-h5="Close"></button>
                    </div>
                    <div class="modal-body">
                        <h2 id="friendName"></h2>
                        <img id="friendPhoto" src="https://i.ytimg.com/vi/fLsvvF9HjqA/hqdefault.jpg" alt="">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


<script type="text/javascript">

    //.. button w/ validations ..//
    $("#submit").on("click", function () {

        function validateForm() {
            var isValid = true;
            $(".form-control").each(function () {
                if ($(this).val() === "") {
                    isValid = false
                }
            });

            $(".chosen-select").each(function () {
                if ($(this).val() === "") {
                    isValid = false;
                }
            });
            return isValid;
        }

        if (validateForm()) {
            var userData = {
                name: $("#name").val(),
                photo: $("#photo").val(),
                scores: [
                    $("#questionOne").val(),
                    $("#questionTwo").val(),
                    $("#questionThree").val(),
                    $("#questionFour").val(),
                    $("#questionFive").val(),
                    $("#questionSix").val(),
                    $("#questionSeven").val(),
                    $("#questionEight").val(),
                    $("#questionNine").val(),
                    $("#questionTen").val()
                ]
            };

            // .. ajax call for response from friends ..//

            var currentURL = window.location.origin;

            $.post(currentURL + "/api/friends", userData, function(data) {
                $("#friendName").text(data.name);
                $("#friendPhoto").attr("src", data.photo);
                $("#exampleModal").modal("toggle");

            });

        }
    });



</script>

</body>

</html>